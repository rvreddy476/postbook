(()=>{var e={};e.id=403,e.ids=[403],e.modules={68:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(5853),n=r(554),o=r(708),s=r.n(o),l=r(8067),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d={children:["",{children:["feed",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8395)),"/home/runner/workspace/nextjs-app/src/app/feed/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5347)),"/home/runner/workspace/nextjs-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,2137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,8358,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/runner/workspace/nextjs-app/src/app/feed/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/feed/page",pathname:"/feed",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},565:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>i,Zp:()=>s,aR:()=>l,wL:()=>d});var a=r(8625),n=r(4996),o=r(7284);let s=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));s.displayName="Card";let l=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader",n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,o.cn)("font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let i=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));i.displayName="CardContent";let d=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));d.displayName="CardFooter"},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1063:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3922).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},1367:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3922).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},2219:(e,t,r)=>{"use strict";function a(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{q:()=>a})},2547:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ty});var a=r(8625),n=r(4996),o=r.t(n,2),s=r(680),l=r(352),i=r(4715),d=r(565),c=r(7284);let u=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("textarea",{className:(0,c.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));u.displayName="Textarea";var m=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function p(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}var f=r(2497),h=r(8415),x=r(353),g=r(6794),v=o[" useInsertionEffect ".trim().toString()]||g.N,b=(Symbol("RADIX:SYNC_STATE"),r(9177)),j=r(9889),w=r(9874),y=r(5521),N=r(5498),k=r(7985),C=r(3733),R=r(5974),S=Symbol("radix.slottable");function P(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===S}var E="Dialog",[A,D]=(0,h.A)(E),[z,T]=A(E),_=e=>{let{__scopeDialog:t,children:r,open:o,defaultOpen:s,onOpenChange:l,modal:i=!0}=e,d=n.useRef(null),c=n.useRef(null),[u,m]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){let[o,s,l]=function({defaultProp:e,onChange:t}){let[r,a]=n.useState(e),o=n.useRef(r),s=n.useRef(t);return v(()=>{s.current=t},[t]),n.useEffect(()=>{o.current!==r&&(s.current?.(r),o.current=r)},[r,o]),[r,a,s]}({defaultProp:t,onChange:r}),i=void 0!==e,d=i?e:o;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==i){let t=i?"controlled":"uncontrolled";console.warn(`${a} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=i},[i,a])}return[d,n.useCallback(t=>{if(i){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else s(t)},[i,e,s,l])]}({prop:o,defaultProp:s??!1,onChange:l,caller:E});return(0,a.jsx)(z,{scope:t,triggerRef:d,contentRef:c,contentId:(0,x.B)(),titleId:(0,x.B)(),descriptionId:(0,x.B)(),open:u,onOpenChange:m,onOpenToggle:n.useCallback(()=>m(e=>!e),[m]),modal:i,children:r})};_.displayName=E;var L="DialogTrigger",$=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=T(L,r),s=(0,f.s)(t,o.triggerRef);return(0,a.jsx)(N.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":er(o.open),...n,ref:s,onClick:p(e.onClick,o.onOpenToggle)})});$.displayName=L;var M="DialogPortal",[O,I]=A(M,{forceMount:void 0}),W=e=>{let{__scopeDialog:t,forceMount:r,children:o,container:s}=e,l=T(M,t);return(0,a.jsx)(O,{scope:t,forceMount:r,children:n.Children.map(o,e=>(0,a.jsx)(y.C,{present:r||l.open,children:(0,a.jsx)(w.Z,{asChild:!0,container:s,children:e})}))})};W.displayName=M;var q="DialogOverlay",F=n.forwardRef((e,t)=>{let r=I(q,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=T(q,e.__scopeDialog);return s.modal?(0,a.jsx)(y.C,{present:n||s.open,children:(0,a.jsx)(B,{...o,ref:t})}):null});F.displayName=q;var U=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...a}=e;if(n.isValidElement(r)){var o;let e,s,l=(o=r,(s=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(s=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),i=function(e,t){let r={...t};for(let a in t){let n=e[a],o=t[a];/^on[A-Z]/.test(a)?n&&o?r[a]=(...e)=>{let t=o(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...o}:"className"===a&&(r[a]=[n,o].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==n.Fragment&&(i.ref=t?(0,f.t)(t,l):l),n.cloneElement(r,i)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:o,...s}=e,l=n.Children.toArray(o),i=l.find(P);if(i){let e=i.props.children,o=l.map(t=>t!==i?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...s,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,o):null})}return(0,a.jsx)(t,{...s,ref:r,children:o})});return r.displayName=`${e}.Slot`,r}("DialogOverlay.RemoveScroll"),B=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=T(q,r);return(0,a.jsx)(C.A,{as:U,allowPinchZoom:!0,shards:[o.contentRef],children:(0,a.jsx)(N.sG.div,{"data-state":er(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),H="DialogContent",V=n.forwardRef((e,t)=>{let r=I(H,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=T(H,e.__scopeDialog);return(0,a.jsx)(y.C,{present:n||s.open,children:s.modal?(0,a.jsx)(G,{...o,ref:t}):(0,a.jsx)(X,{...o,ref:t})})});V.displayName=H;var G=n.forwardRef((e,t)=>{let r=T(H,e.__scopeDialog),o=n.useRef(null),s=(0,f.s)(t,r.contentRef,o);return n.useEffect(()=>{let e=o.current;if(e)return(0,R.Eq)(e)},[]),(0,a.jsx)(Y,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:p(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:p(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:p(e.onFocusOutside,e=>e.preventDefault())})}),X=n.forwardRef((e,t)=>{let r=T(H,e.__scopeDialog),o=n.useRef(!1),s=n.useRef(!1);return(0,a.jsx)(Y,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(o.current||r.triggerRef.current?.focus(),t.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),Y=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:l,...i}=e,d=T(H,r),c=n.useRef(null),u=(0,f.s)(t,c);return(0,k.Oh)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.n,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:l,children:(0,a.jsx)(b.qW,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":er(d.open),...i,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(es,{titleId:d.titleId}),(0,a.jsx)(el,{contentRef:c,descriptionId:d.descriptionId})]})]})}),J="DialogTitle",Z=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=T(J,r);return(0,a.jsx)(N.sG.h2,{id:o.titleId,...n,ref:t})});Z.displayName=J;var K="DialogDescription",Q=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=T(K,r);return(0,a.jsx)(N.sG.p,{id:o.descriptionId,...n,ref:t})});Q.displayName=K;var ee="DialogClose",et=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=T(ee,r);return(0,a.jsx)(N.sG.button,{type:"button",...n,ref:t,onClick:p(e.onClick,()=>o.onOpenChange(!1))})});function er(e){return e?"open":"closed"}et.displayName=ee;var ea="DialogTitleWarning",[en,eo]=(0,h.q)(ea,{contentName:H,titleName:J,docsSlug:"dialog"}),es=({titleId:e})=>{let t=eo(ea),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},el=({contentRef:e,descriptionId:t})=>{let r=eo("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return n.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},ei=r(3922);let ed=(0,ei.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ec=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(F,{ref:r,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ec.displayName=F.displayName;let eu=n.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(W,{children:[(0,a.jsx)(ec,{}),(0,a.jsxs)(V,{ref:n,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,a.jsxs)(et,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(ed,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));eu.displayName=V.displayName,n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(Z,{ref:r,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",e),...t})).displayName=Z.displayName,n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(Q,{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",e),...t})).displayName=Q.displayName,r(8709);var em=r(9392),ep=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,em.TL)(`Primitive.${t}`),o=n.forwardRef((e,n)=>{let{asChild:o,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(o?r:t,{...s,ref:n})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),ef="horizontal",eh=["horizontal","vertical"],ex=n.forwardRef((e,t)=>{var r;let{decorative:n,orientation:o=ef,...s}=e,l=(r=o,eh.includes(r))?o:ef;return(0,a.jsx)(ep.div,{"data-orientation":l,...n?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},...s,ref:t})});ex.displayName="Separator";let eg=n.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>(0,a.jsx)(ex,{ref:o,decorative:r,orientation:t,className:(0,c.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...n}));eg.displayName=ex.displayName;var ev=r(4942),eb=r(6965),ej=r(2219),ew=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function ey(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}var eN="ScrollArea",[ek,eC]=(0,h.A)(eN),[eR,eS]=ek(eN),eP=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:o="hover",dir:s,scrollHideDelay:l=600,...i}=e,[d,c]=n.useState(null),[u,m]=n.useState(null),[p,h]=n.useState(null),[x,g]=n.useState(null),[v,b]=n.useState(null),[j,w]=n.useState(0),[y,k]=n.useState(0),[C,R]=n.useState(!1),[S,P]=n.useState(!1),E=(0,f.s)(t,e=>c(e)),A=(0,eb.jH)(s);return(0,a.jsx)(eR,{scope:r,type:o,dir:A,scrollHideDelay:l,scrollArea:d,viewport:u,onViewportChange:m,content:p,onContentChange:h,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:R,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:k,children:(0,a.jsx)(N.sG.div,{dir:A,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});eP.displayName=eN;var eE="ScrollAreaViewport",eA=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:o,nonce:s,...l}=e,i=eS(eE,r),d=n.useRef(null),c=(0,f.s)(t,d,i.onViewportChange);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,a.jsx)(N.sG.div,{"data-radix-scroll-area-viewport":"",...l,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,a.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});eA.displayName=eE;var eD="ScrollAreaScrollbar",ez=n.forwardRef((e,t)=>{let{forceMount:r,...o}=e,s=eS(eD,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=s,d="horizontal"===e.orientation;return n.useEffect(()=>(d?l(!0):i(!0),()=>{d?l(!1):i(!1)}),[d,l,i]),"hover"===s.type?(0,a.jsx)(eT,{...o,ref:t,forceMount:r}):"scroll"===s.type?(0,a.jsx)(e_,{...o,ref:t,forceMount:r}):"auto"===s.type?(0,a.jsx)(eL,{...o,ref:t,forceMount:r}):"always"===s.type?(0,a.jsx)(e$,{...o,ref:t}):null});ez.displayName=eD;var eT=n.forwardRef((e,t)=>{let{forceMount:r,...o}=e,s=eS(eD,e.__scopeScrollArea),[l,i]=n.useState(!1);return n.useEffect(()=>{let e=s.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),i(!0)},a=()=>{t=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",a)}}},[s.scrollArea,s.scrollHideDelay]),(0,a.jsx)(y.C,{present:r||l,children:(0,a.jsx)(eL,{"data-state":l?"visible":"hidden",...o,ref:t})})}),e_=n.forwardRef((e,t)=>{var r,o;let{forceMount:s,...l}=e,i=eS(eD,e.__scopeScrollArea),d="horizontal"===e.orientation,c=e0(()=>m("SCROLL_END"),100),[u,m]=(r="hidden",o={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},n.useReducer((e,t)=>o[e][t]??e,r));return n.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>m("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,i.scrollHideDelay,m]),n.useEffect(()=>{let e=i.viewport,t=d?"scrollLeft":"scrollTop";if(e){let r=e[t],a=()=>{let a=e[t];r!==a&&(m("SCROLL"),c()),r=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}},[i.viewport,d,m,c]),(0,a.jsx)(y.C,{present:s||"hidden"!==u,children:(0,a.jsx)(e$,{"data-state":"hidden"===u?"hidden":"visible",...l,ref:t,onPointerEnter:ey(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:ey(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),eL=n.forwardRef((e,t)=>{let r=eS(eD,e.__scopeScrollArea),{forceMount:o,...s}=e,[l,i]=n.useState(!1),d="horizontal"===e.orientation,c=e0(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;i(d?e:t)}},10);return e1(r.viewport,c),e1(r.content,c),(0,a.jsx)(y.C,{present:o||l,children:(0,a.jsx)(e$,{"data-state":l?"visible":"hidden",...s,ref:t})})}),e$=n.forwardRef((e,t)=>{let{orientation:r="vertical",...o}=e,s=eS(eD,e.__scopeScrollArea),l=n.useRef(null),i=n.useRef(0),[d,c]=n.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=eY(d.viewport,d.content),m={...o,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function p(e,t){return function(e,t,r,a="ltr"){let n=eJ(r),o=t||n/2,s=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-(n-o),i=r.content-r.viewport;return eK([s,l],"ltr"===a?[0,i]:[-1*i,0])(e)}(e,i.current,d,t)}return"horizontal"===r?(0,a.jsx)(eM,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){let e=eZ(s.viewport.scrollLeft,d,s.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollLeft=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollLeft=p(e,s.dir))}}):"vertical"===r?(0,a.jsx)(eO,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){let e=eZ(s.viewport.scrollTop,d);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollTop=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollTop=p(e))}}):null}),eM=n.forwardRef((e,t)=>{let{sizes:r,onSizesChange:o,...s}=e,l=eS(eD,e.__scopeScrollArea),[i,d]=n.useState(),c=n.useRef(null),u=(0,f.s)(t,c,l.onScrollbarXChange);return n.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,a.jsx)(eq,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":eJ(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(l.viewport){let a=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(a),function(e,t){return e>0&&e<t}(a,r)&&t.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:eX(i.paddingLeft),paddingEnd:eX(i.paddingRight)}})}})}),eO=n.forwardRef((e,t)=>{let{sizes:r,onSizesChange:o,...s}=e,l=eS(eD,e.__scopeScrollArea),[i,d]=n.useState(),c=n.useRef(null),u=(0,f.s)(t,c,l.onScrollbarYChange);return n.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,a.jsx)(eq,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":eJ(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(l.viewport){let a=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(a),function(e,t){return e>0&&e<t}(a,r)&&t.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:eX(i.paddingTop),paddingEnd:eX(i.paddingBottom)}})}})}),[eI,eW]=ek(eD),eq=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:o,hasThumb:s,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:m,onResize:p,...h}=e,x=eS(eD,r),[g,v]=n.useState(null),b=(0,f.s)(t,e=>v(e)),j=n.useRef(null),w=n.useRef(""),y=x.viewport,k=o.content-o.viewport,C=(0,ev.c)(m),R=(0,ev.c)(c),S=e0(p,10);function P(e){j.current&&u({x:e.clientX-j.current.left,y:e.clientY-j.current.top})}return n.useEffect(()=>{let e=e=>{let t=e.target;g?.contains(t)&&C(e,k)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[y,g,k,C]),n.useEffect(R,[o,R]),e1(g,S),e1(x.content,S),(0,a.jsx)(eI,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:(0,ev.c)(l),onThumbPointerUp:(0,ev.c)(i),onThumbPositionChange:R,onThumbPointerDown:(0,ev.c)(d),children:(0,a.jsx)(N.sG.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:ey(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),j.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),P(e))}),onPointerMove:ey(e.onPointerMove,P),onPointerUp:ey(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=w.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),eF="ScrollAreaThumb",eU=n.forwardRef((e,t)=>{let{forceMount:r,...n}=e,o=eW(eF,e.__scopeScrollArea);return(0,a.jsx)(y.C,{present:r||o.hasThumb,children:(0,a.jsx)(eB,{ref:t,...n})})}),eB=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:o,...s}=e,l=eS(eF,r),i=eW(eF,r),{onThumbPositionChange:d}=i,c=(0,f.s)(t,e=>i.onThumbChange(e)),u=n.useRef(void 0),m=e0(()=>{u.current&&(u.current(),u.current=void 0)},100);return n.useEffect(()=>{let e=l.viewport;if(e){let t=()=>{m(),u.current||(u.current=eQ(e,d),d())};return d(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[l.viewport,m,d]),(0,a.jsx)(N.sG.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:ey(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;i.onThumbPointerDown({x:r,y:a})}),onPointerUp:ey(e.onPointerUp,i.onThumbPointerUp)})});eU.displayName=eF;var eH="ScrollAreaCorner",eV=n.forwardRef((e,t)=>{let r=eS(eH,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?(0,a.jsx)(eG,{...e,ref:t}):null});eV.displayName=eH;var eG=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,...o}=e,s=eS(eH,r),[l,i]=n.useState(0),[d,c]=n.useState(0),u=!!(l&&d);return e1(s.scrollbarX,()=>{let e=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(e),c(e)}),e1(s.scrollbarY,()=>{let e=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(e),i(e)}),u?(0,a.jsx)(N.sG.div,{...o,ref:t,style:{width:l,height:d,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function eX(e){return e?parseInt(e,10):0}function eY(e,t){let r=e/t;return isNaN(r)?0:r}function eJ(e){let t=eY(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function eZ(e,t,r="ltr"){let a=eJ(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-n,s=t.content-t.viewport,l=(0,ej.q)(e,"ltr"===r?[0,s]:[-1*s,0]);return eK([0,s],[0,o-a])(l)}function eK(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}var eQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return!function n(){let o={left:e.scrollLeft,top:e.scrollTop},s=r.left!==o.left,l=r.top!==o.top;(s||l)&&t(),r=o,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function e0(e,t){let r=(0,ev.c)(e),a=n.useRef(0);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),n.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function e1(e,t){let r=(0,ev.c)(t);(0,g.N)(()=>{let t=0;if(e){let a=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(t),a.unobserve(e)}}},[e,r])}let e2=n.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(eP,{ref:n,className:(0,c.cn)("relative overflow-hidden",e),...r,children:[(0,a.jsx)(eA,{className:"h-full w-full rounded-[inherit]",children:t}),(0,a.jsx)(e5,{}),(0,a.jsx)(eV,{})]}));e2.displayName=eP.displayName;let e5=n.forwardRef(({className:e,orientation:t="vertical",...r},n)=>(0,a.jsx)(ez,{ref:n,orientation:t,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:(0,a.jsx)(eU,{className:"relative flex-1 rounded-full bg-border"})}));e5.displayName=ez.displayName;var e3=r(2779),e4=r(9291),e9=r(1063);let e8=(0,ei.A)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),e6=(0,ei.A)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),e7=(0,ei.A)("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),te=(0,ei.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),tt=(0,ei.A)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),tr=(0,ei.A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),ta=(0,ei.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var tn=r(6757);let to=(0,ei.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var ts=r(4388);let tl=[{emoji:"\uD83D\uDE42",label:"Happy"},{emoji:"\uD83E\uDD70",label:"Loved"},{emoji:"\uD83D\uDE0E",label:"Cool"},{emoji:"\uD83E\uDD29",label:"Excited"},{emoji:"\uD83E\uDD2A",label:"Crazy"},{emoji:"\uD83D\uDE34",label:"Tired"}],ti=[{id:"default",bg:"bg-white dark:bg-card text-foreground"},{id:"red",bg:"bg-gradient-to-br from-red-500 to-pink-600 text-white"},{id:"blue",bg:"bg-gradient-to-br from-blue-400 to-cyan-500 text-white"},{id:"green",bg:"bg-gradient-to-br from-emerald-400 to-green-600 text-white"},{id:"purple",bg:"bg-gradient-to-br from-purple-500 to-indigo-600 text-white"},{id:"orange",bg:"bg-gradient-to-br from-orange-400 to-amber-500 text-white"},{id:"tea",bg:"bg-[#C0BBB1] text-slate-900"},{id:"chill",bg:"bg-[#148290] text-white"}];function td({onPostCreated:e}){let{user:t}=(0,ts.A)(),[r,o]=(0,n.useState)(!1),[s,c]=(0,n.useState)(""),[m,p]=(0,n.useState)("compose"),[f,h]=(0,n.useState)(ti[0]),[x,g]=(0,n.useState)(["",""]),[v,b]=(0,n.useState)(null),[j,w]=(0,n.useState)(!1),[y,N]=(0,n.useState)(null),[k,C]=(0,n.useState)("image"),R=(0,n.useRef)(null),S=t?`${t.firstName?.[0]||""}${t.lastName?.[0]||""}`.toUpperCase():"U",P=t?`${t.firstName} ${t.lastName}`:"User",E=()=>{c(""),p("compose"),h(ti[0]),g(["",""]),b(null),N(null),o(!1)},A=async()=>{if(t&&(s||y)){w(!0);try{(await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authorId:t.id,content:s,imageUrl:y,backgroundColor:"default"!==f.id?f.id:null,feeling:v?`${v.emoji} ${v.label}`:null})})).ok&&(E(),e?.())}catch(e){console.error("Failed to create post:",e)}finally{w(!1)}}};return(0,a.jsx)(d.Zp,{className:"shadow-md border-none overflow-hidden bg-card/50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex gap-3 mb-4",children:[(0,a.jsx)(l.eu,{className:"h-12 w-12 cursor-pointer ring-2 ring-primary/10 hover:ring-primary/30 transition-all",children:(0,a.jsx)(l.q5,{className:"bg-primary/10 text-primary font-semibold",children:S})}),(0,a.jsxs)(_,{open:r,onOpenChange:o,children:[(0,a.jsx)($,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex-1 bg-muted/40 hover:bg-muted/60 transition-all duration-300 rounded-2xl px-5 py-3 text-muted-foreground cursor-pointer text-left shadow-inner flex items-center justify-between group",onClick:()=>{o(!0),p("compose")},"data-testid":"button-create-post",children:[(0,a.jsxs)("span",{children:["What's on your mind, ",t?.firstName||"there","?"]}),(0,a.jsxs)("div",{className:"flex gap-2 opacity-50 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(e9.A,{size:18}),(0,a.jsx)(e8,{size:18})]})]})}),(0,a.jsxs)(eu,{className:"max-w-3xl p-0 gap-0 overflow-hidden border-none shadow-2xl bg-card max-h-[85vh] h-[500px] flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b flex justify-between items-center bg-muted/10",children:[(0,a.jsx)("h2",{className:"text-lg font-bold font-heading",children:"Create Post"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",children:"Drafts"}),(0,a.jsx)(i.$,{className:"bg-primary hover:bg-primary/90 text-primary-foreground px-6 rounded-full font-semibold shadow-lg shadow-primary/20",onClick:A,disabled:!s&&!y&&!v||j,"data-testid":"button-submit-post",children:j?"Posting...":"Post"})]})]}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,a.jsxs)(e3.tU,{defaultValue:"compose",value:m,onValueChange:p,orientation:"vertical",className:"w-[200px] bg-muted/20 border-r flex flex-col",children:[(0,a.jsxs)(e3.j7,{className:"flex flex-col h-auto bg-transparent p-2 gap-1 justify-start w-full",children:[(0,a.jsx)(tc,{value:"compose",icon:(0,a.jsx)(e6,{size:18}),label:"Compose"}),(0,a.jsx)(tc,{value:"media",icon:(0,a.jsx)(e9.A,{size:18}),label:"Photo/Video"}),(0,a.jsx)(tc,{value:"poll",icon:(0,a.jsx)(e7,{size:18}),label:"Poll"}),(0,a.jsx)(tc,{value:"feeling",icon:(0,a.jsx)(e8,{size:18}),label:"Feeling"}),(0,a.jsx)(tc,{value:"checkin",icon:(0,a.jsx)(te,{size:18}),label:"Check In"}),(0,a.jsx)(eg,{className:"my-2"}),(0,a.jsx)(tc,{value:"background",icon:(0,a.jsx)(tt,{size:18}),label:"Background"}),(0,a.jsx)(tc,{value:"gif",icon:(0,a.jsx)(tr,{size:18}),label:"GIF"})]}),(0,a.jsx)("div",{className:"mt-auto p-4",children:(0,a.jsx)("div",{className:"bg-primary/5 rounded-xl p-3 text-xs text-muted-foreground text-center",children:(0,a.jsx)("p",{children:"Share with Public"})})})]}),(0,a.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden relative bg-background",children:(0,a.jsxs)(e2,{className:"flex-1 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(l.eu,{className:"h-10 w-10",children:(0,a.jsx)(l.q5,{className:"bg-primary/10 text-primary",children:S})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-sm",children:P}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)(ta,{size:12})," Public",v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"font-medium text-primary flex items-center gap-1",children:[v.emoji," feeling ",v.label]})]})]})]})]}),(0,a.jsx)("div",{className:`min-h-[200px] transition-all duration-500 rounded-xl ${"default"!==f.id?`p-8 flex items-center justify-center text-center shadow-inner ${f.bg}`:""}`,children:(0,a.jsx)(u,{value:s,onChange:e=>c(e.target.value),placeholder:"What's on your mind?",className:`border-none shadow-none resize-none focus-visible:ring-0 p-0 text-xl leading-relaxed bg-transparent ${"default"!==f.id?"text-white text-center font-bold text-3xl placeholder:text-white/60":"placeholder:text-muted-foreground/40"}`,"data-testid":"input-post-content"})}),y&&(0,a.jsxs)("div",{className:"mt-4 relative rounded-xl overflow-hidden border bg-black/5 group",children:[(0,a.jsx)(i.$,{size:"icon",variant:"secondary",className:"absolute top-2 right-2 h-8 w-8 rounded-full bg-black/60 text-white hover:bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:()=>N(null),children:(0,a.jsx)(ed,{size:14})}),"image"===k?(0,a.jsx)("img",{src:y,alt:"Preview",className:"w-full max-h-[300px] object-contain"}):(0,a.jsx)("video",{src:y,controls:!0,className:"w-full max-h-[300px]"})]}),"poll"===m&&(0,a.jsxs)("div",{className:"mt-6 border rounded-xl p-4 bg-muted/10 animate-in fade-in slide-in-from-bottom-4",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(e7,{size:18,className:"text-primary"})," Poll Details"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[x.map((e,t)=>(0,a.jsx)(e4.p,{placeholder:`Option ${t+1}`,value:e,onChange:e=>{let r=[...x];r[t]=e.target.value,g(r)}},t)),(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>g([...x,""]),className:"w-full border-dashed",children:"+ Add Option"})]})]}),"media"===m&&!y&&(0,a.jsxs)("div",{className:"mt-6 border-2 border-dashed rounded-xl p-8 text-center hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>R.current?.click(),children:[(0,a.jsx)("input",{type:"file",ref:R,className:"hidden",accept:"image/*,video/*",onChange:e=>{let t=e.target.files?.[0];t&&(N(URL.createObjectURL(t)),C(t.type.startsWith("video")?"video":"image"))}}),(0,a.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-primary mb-3",children:(0,a.jsx)(e9.A,{size:24})}),(0,a.jsx)("p",{className:"font-medium",children:"Add Photos or Videos"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"or drag and drop"})]}),"feeling"===m&&(0,a.jsx)("div",{className:"mt-6 grid grid-cols-3 gap-2 animate-in fade-in slide-in-from-bottom-4",children:tl.map(e=>(0,a.jsxs)(i.$,{variant:"ghost",className:"justify-start h-auto py-3",onClick:()=>{b(e),p("compose")},children:[(0,a.jsx)("span",{className:"mr-2 text-xl",children:e.emoji})," ",e.label]},e.label))}),"background"===m&&(0,a.jsxs)("div",{className:"mt-6 animate-in fade-in slide-in-from-bottom-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-3 text-sm text-muted-foreground uppercase tracking-wider",children:"Choose Background"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-3",children:ti.map(e=>(0,a.jsx)("div",{className:`aspect-square rounded-xl cursor-pointer ring-2 ring-offset-2 transition-all ${e.bg} ${f.id===e.id?"ring-primary scale-95":"ring-transparent hover:scale-105"}`,onClick:()=>{h(e),p("compose")}},e.id))})]})]})})]})]})]})]}),(0,a.jsx)(eg,{className:"mb-3 opacity-50"}),(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsx)(tu,{icon:(0,a.jsx)(tn.A,{className:"text-red-500",size:20}),label:"Live Video",onClick:()=>{o(!0),p("compose")}}),(0,a.jsx)(tu,{icon:(0,a.jsx)(e9.A,{className:"text-green-500",size:20}),label:"Photo/Video",onClick:()=>{o(!0),p("media"),setTimeout(()=>R.current?.click(),100)}}),(0,a.jsx)(tu,{icon:(0,a.jsx)(to,{className:"text-yellow-500",size:20}),label:"Feeling/Activity",onClick:()=>{o(!0),p("feeling")}})]})]})})}function tc({value:e,icon:t,label:r}){return(0,a.jsxs)(e3.Xi,{value:e,className:"w-full justify-start gap-3 px-4 py-3 data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg transition-all",children:[t,(0,a.jsx)("span",{children:r})]})}function tu({icon:e,label:t,onClick:r}){return(0,a.jsxs)(i.$,{variant:"ghost",className:"flex-1 text-muted-foreground hover:bg-muted/50 hover:text-foreground gap-2 h-auto py-2.5 rounded-xl transition-all hover:scale-[1.02]",onClick:r,children:[e,(0,a.jsx)("span",{className:"font-medium text-sm text-foreground/80",children:t})]})}var tm=r(1367),tp=r(4954);let tf=(0,ei.A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),th=(0,ei.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),tx=(0,ei.A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var tg=r(3202);function tv({author:e,content:t,image:r,time:o}){let[s,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(3),[v,b]=(0,n.useState)(""),[j,w]=(0,n.useState)(null),[y,N]=(0,n.useState)(""),k=(0,n.useRef)(null),[C,R]=(0,n.useState)([{id:1,name:"Jane Cooper",role:"Product Designer",text:"This is amazing!",time:"2m ago",avatar:"",likes:4},{id:2,name:"Wade Warren",role:"Frontend Dev",text:"Love the colors in this.",time:"5m ago",avatar:"",likes:1},{id:3,name:"Esther Howard",role:"Project Manager",text:"Can't wait to see more updates.",time:"12m ago",avatar:"",likes:0},{id:4,name:"Cameron Williamson",role:"Marketing",text:"Great work on this!",time:"15m ago",avatar:"",likes:2},{id:5,name:"Jenny Wilson",role:"Developer",text:"Looks fantastic",time:"18m ago",avatar:"",likes:3}]),S=(e,t)=>{if(e.preventDefault(),!y.trim())return;let r={id:Date.now(),name:"User",role:"Member",text:y,time:"Just now",avatar:"",likes:0};R(e=>e.map(e=>e.id===t?{...e,replies:[...e.replies||[],r]}:e)),N(""),w(null)};return(0,a.jsxs)(d.Zp,{className:"border-none shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden bg-card",children:[(0,a.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-4 p-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(l.eu,{className:"h-10 w-10 border border-border cursor-pointer",children:[(0,a.jsx)(l.BK,{src:e.avatar,alt:e.name}),(0,a.jsx)(l.q5,{children:e.name[0]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"font-semibold text-sm hover:underline cursor-pointer",children:e.name}),(0,a.jsxs)("span",{className:"text-muted-foreground text-xs",children:["• ",o]})]}),(0,a.jsxs)("span",{className:"text-muted-foreground text-xs",children:["@",e.handle]})]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",children:(0,a.jsx)(tm.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(d.Wu,{className:"p-0",children:[t&&(0,a.jsx)("p",{className:"px-5 pb-4 text-sm leading-relaxed whitespace-pre-wrap",children:t}),r&&(0,a.jsx)("div",{className:"relative aspect-video w-full overflow-hidden bg-muted cursor-pointer",children:(0,a.jsx)("img",{src:r,alt:"Post content",className:"object-cover w-full h-full hover:scale-[1.01] transition-transform duration-500"})})]}),(0,a.jsxs)(d.wL,{className:"p-3 flex flex-col gap-3 border-t border-border/50 bg-card/50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full px-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:(0,c.cn)("rounded-full hover:bg-red-50 hover:text-red-500 transition-colors",s&&"text-red-500"),onClick:()=>u(!s),children:(0,a.jsx)(tp.A,{className:(0,c.cn)("h-6 w-6",s&&"fill-current")})}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:(0,c.cn)("rounded-full hover:bg-primary/5 hover:text-primary transition-colors",f&&"text-primary bg-primary/5"),onClick:()=>h(!f),children:(0,a.jsx)(tf,{className:"h-6 w-6"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-primary/5 hover:text-primary transition-colors",children:(0,a.jsx)(th,{className:"h-6 w-6"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:(0,c.cn)("rounded-full hover:bg-primary/5 hover:text-primary transition-colors",m&&"text-primary fill-current"),onClick:()=>p(!m),children:(0,a.jsx)(tx,{className:(0,c.cn)("h-6 w-6",m&&"fill-current")})})]}),f&&(0,a.jsxs)("div",{className:"w-full pt-2 animate-in slide-in-from-top-2 duration-200",children:[(0,a.jsxs)("div",{className:"flex gap-3 mb-4",children:[(0,a.jsx)(l.eu,{className:"h-8 w-8 shrink-0",children:(0,a.jsx)(l.q5,{children:"U"})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v.trim()&&(R([...C,{id:Date.now(),name:"User",role:"Member",text:v,time:"Just now",avatar:"",likes:0}]),b(""),C.length>=x&&g(e=>e+1))},className:"relative",children:[(0,a.jsx)(e4.p,{placeholder:"Add a comment...",className:"pr-20 h-10 rounded-full bg-muted/30 border-muted-foreground/20 focus-visible:ring-primary/20",value:v,onChange:e=>b(e.target.value)}),(0,a.jsxs)("div",{className:"absolute right-1.5 top-1.5 flex items-center gap-1",children:[(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-foreground rounded-full",children:(0,a.jsx)(e8,{size:16})}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-foreground rounded-full",children:(0,a.jsx)(e9.A,{size:16})})]})]})})]}),(0,a.jsx)(e2,{className:"max-h-[300px] pr-4 -mr-4",children:(0,a.jsxs)("div",{className:"space-y-3 pl-11 pb-2",children:[C.slice(0,x).map(e=>(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-3 group",children:[(0,a.jsxs)(l.eu,{className:"h-8 w-8 shrink-0 border border-border",children:[(0,a.jsx)(l.BK,{src:e.avatar}),(0,a.jsx)(l.q5,{className:"text-xs bg-muted text-muted-foreground",children:e.name[0]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"bg-muted/30 rounded-xl p-2.5 relative",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between mb-0.5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-foreground mr-2 cursor-pointer hover:underline",children:e.name}),e.role&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground hidden sm:inline-block",children:["• ",e.role]})]}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground",children:e.time})]}),(0,a.jsx)("p",{className:"text-sm text-foreground/90 leading-relaxed",children:e.text})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 ml-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsxs)("button",{className:"text-[10px] font-medium text-muted-foreground hover:text-primary transition-colors flex items-center gap-1",children:["Like ",e.likes>0&&`(${e.likes})`]})}),(0,a.jsx)("button",{className:"text-[10px] font-medium text-muted-foreground hover:text-primary transition-colors",onClick:()=>w(j===e.id?null:e.id),children:"Reply"})]}),j===e.id&&(0,a.jsx)("div",{className:"mt-2 animate-in fade-in slide-in-from-top-1 duration-200",children:(0,a.jsxs)("form",{onSubmit:t=>S(t,e.id),className:"flex gap-2",children:[(0,a.jsx)(e4.p,{autoFocus:!0,placeholder:`Reply to ${e.name}...`,className:"h-8 text-xs bg-muted/30 rounded-full",value:y,onChange:e=>N(e.target.value)}),(0,a.jsx)(i.$,{type:"submit",size:"sm",className:"h-8 rounded-full px-3",disabled:!y.trim(),children:"Reply"})]})})]})]}),e.replies&&e.replies.length>0&&(0,a.jsx)("div",{className:"pl-11 space-y-2",children:e.replies.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 group",children:[(0,a.jsxs)(l.eu,{className:"h-6 w-6 shrink-0 border border-border",children:[(0,a.jsx)(l.BK,{src:e.avatar}),(0,a.jsx)(l.q5,{className:"text-[10px] bg-muted text-muted-foreground",children:e.name[0]})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"bg-muted/20 rounded-xl p-2 relative",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between mb-0.5",children:[(0,a.jsx)("span",{className:"text-xs font-semibold text-foreground mr-2",children:e.name}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground",children:e.time})]}),(0,a.jsx)("p",{className:"text-xs text-foreground/90 leading-relaxed",children:e.text})]})})]},e.id))})]},e.id)),x<C.length&&(0,a.jsx)("div",{className:"pl-11 pt-1",children:(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground text-xs font-medium h-auto py-1 px-2",onClick:()=>{g(e=>e+3),setTimeout(()=>{if(k.current){let e=k.current.querySelector("[data-radix-scroll-area-viewport]");e&&(e.scrollTop=e.scrollHeight)}},100)},children:["Load more comments ",(0,a.jsx)(tg.A,{size:12,className:"ml-1"})]})})]})})]})]})]})}function tb({className:e,...t}){return(0,a.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-primary/10",e),...t})}var tj=r(1107);let tw=[{id:"default-1",author:{name:"PostBook Team",handle:"postbook",avatar:""},content:"Welcome to PostBook! We're excited to have you here. Start sharing your moments today.",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",likes:5e3,comments:1200,time:"1d ago"},{id:"default-2",author:{name:"PostBook",handle:"postbook_official",avatar:""},content:"Discover what's happening around you. Connect with friends, share your thoughts, and explore new content.",image:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=800&q=80",likes:856,comments:42,time:"2d ago"}];function ty(){let{user:e,isAuthenticated:t,isLoading:r}=(0,ts.A)();(0,tj.useRouter)();let[o,l]=(0,n.useState)([]),[i,d]=(0,n.useState)(!0),c=async()=>{try{let e=await fetch("/api/posts");if(e.ok){let t=await e.json();l(t)}}catch(e){console.error("Failed to fetch posts:",e)}finally{d(!1)}};return r?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t?(0,a.jsx)(s.e,{children:(0,a.jsxs)("div",{className:"space-y-6 py-6",children:[(0,a.jsx)(td,{onPostCreated:()=>{c()}}),(0,a.jsx)("div",{className:"space-y-6",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tN,{}),(0,a.jsx)(tN,{})]}):(0,a.jsxs)(a.Fragment,{children:[o.map(e=>(0,a.jsx)(tv,{id:e.id,author:{name:e.author?`${e.author.firstName||""} ${e.author.lastName||""}`.trim()||e.author.username:"Unknown User",handle:e.author?.username||"user",avatar:e.author?.avatarUrl||""},content:e.content,image:e.imageUrl||void 0,likes:e.likesCount,comments:e.commentsCount,time:function(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/6e4),a=Math.floor(r/60),n=Math.floor(a/24);return r<1?"Just now":r<60?`${r}m ago`:a<24?`${a}h ago`:n<7?`${n}d ago`:t.toLocaleDateString()}(e.createdAt),backgroundColor:e.backgroundColor,feeling:e.feeling},e.id)),tw.map(e=>(0,a.jsx)(tv,{id:e.id,author:e.author,content:e.content,image:e.image,likes:e.likes,comments:e.comments,time:e.time},e.id))]})})]})}):null}function tN(){return(0,a.jsxs)("div",{className:"bg-card rounded-lg p-5 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(tb,{className:"h-10 w-10 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(tb,{className:"h-4 w-32"}),(0,a.jsx)(tb,{className:"h-3 w-20"})]})]}),(0,a.jsx)(tb,{className:"h-20 w-full"}),(0,a.jsx)(tb,{className:"h-48 w-full rounded-lg"})]})}},2779:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>d,av:()=>c,j7:()=>i,tU:()=>l});var a=r(8625),n=r(4996),o=r(1778),s=r(7284);let l=o.bL,i=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.B8,{ref:r,className:(0,s.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));i.displayName=o.B8.displayName;let d=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.l9,{ref:r,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));d.displayName=o.l9.displayName;let c=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(o.UC,{ref:r,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=o.UC.displayName},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3202:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3922).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4921:(e,t,r)=>{Promise.resolve().then(r.bind(r,2547))},4954:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3922).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},8395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/workspace/nextjs-app/src/app/feed/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/nextjs-app/src/app/feed/page.tsx","default")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9769:(e,t,r)=>{Promise.resolve().then(r.bind(r,8395))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[683,855,729,932,815,525],()=>r(68));module.exports=a})();