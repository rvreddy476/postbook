exports.id=525,exports.ids=[525],exports.modules={352:(e,t,r)=>{"use strict";r.d(t,{BK:()=>l,eu:()=>n,q5:()=>d});var s=r(8625),o=r(4996),i=r(1051),a=r(7284);let n=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.bL,{ref:r,className:(0,a.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));n.displayName=i.bL.displayName;let l=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i._V,{ref:r,className:(0,a.cn)("aspect-square h-full w-full",e),...t}));l.displayName=i._V.displayName;let d=o.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.H4,{ref:r,className:(0,a.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));d.displayName=i.H4.displayName},485:()=>{},680:(e,t,r)=>{"use strict";r.d(t,{e:()=>A});var s=r(8625),o=r(1567),i=r.n(o),a=r(1107),n=r(3566),l=r(1170),d=r(4141),c=r(6166),m=r(8469),u=r(6389),x=r(7284),h=r(4715),f=r(7313),p=r(4388),b=r(352);function v(){let e=(0,a.usePathname)(),{toggleSidebar:t,isSidebarOpen:r}=(0,f.$)(),{user:o,logout:v}=(0,p.A)(),g=[{icon:n.A,label:"Reels",href:"/reels"},{icon:l.A,label:"Watch",href:"/watch"},{icon:d.A,label:"Messenger",href:"#",isAction:!0,action:t,active:r},{icon:c.A,label:"Notifications",href:"/notifications"}],j=o?`${o.firstName?.[0]||""}${o.lastName?.[0]||""}`.toUpperCase():"U",y=o?`${o.firstName} ${o.lastName}`:"User";return(0,s.jsxs)("aside",{className:"hidden md:flex flex-col w-64 h-[calc(100vh-4rem)] sticky top-16 border-r border-border bg-card px-4 py-6 z-40",children:[(0,s.jsxs)(i(),{href:"/profile",className:"flex items-center gap-3 p-3 mb-6 rounded-xl hover:bg-muted transition-all cursor-pointer group border border-transparent hover:border-border/50","data-testid":"link-profile",children:[(0,s.jsx)(b.eu,{className:"h-12 w-12 border-2 border-primary/20 group-hover:border-primary transition-colors",children:(0,s.jsx)(b.q5,{className:"bg-primary/10 text-primary font-semibold",children:j})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-heading font-bold text-base text-foreground group-hover:text-primary transition-colors","data-testid":"text-username",children:y}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"View Profile"})]})]}),(0,s.jsx)("nav",{className:"flex-1 space-y-2",children:g.map(t=>{let r=t.icon,o=void 0!==t.active?t.active:e===t.href;return t.isAction?(0,s.jsxs)("button",{onClick:e=>{e.preventDefault(),t.action&&t.action()},className:(0,x.cn)("w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium cursor-pointer",o?"bg-primary/10 text-primary font-semibold":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`button-${t.label.toLowerCase()}`,children:[(0,s.jsx)(r,{size:24,strokeWidth:o?2.5:2}),t.label]},t.label):(0,s.jsxs)(i(),{href:t.href,className:(0,x.cn)("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium",o?"bg-primary/10 text-primary font-semibold":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`link-${t.label.toLowerCase()}`,children:[(0,s.jsx)(r,{size:24,strokeWidth:o?2.5:2}),t.label]},t.href)})}),(0,s.jsxs)("div",{className:"pt-4 border-t border-border space-y-2",children:[(0,s.jsxs)(i(),{href:"/settings",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-muted-foreground hover:bg-muted hover:text-foreground transition-all font-medium","data-testid":"link-settings",children:[(0,s.jsx)(m.A,{size:24}),"Settings"]}),(0,s.jsxs)(h.$,{variant:"ghost",className:"w-full justify-start gap-3 px-4 py-6 rounded-xl text-destructive hover:text-destructive hover:bg-destructive/10",onClick:v,"data-testid":"button-logout",children:[(0,s.jsx)(u.A,{size:24}),"Logout"]})]})]})}var g=r(3990),j=r(8495);function y(){let e=(0,a.usePathname)(),{toggleSidebar:t,isSidebarOpen:r}=(0,f.$)(),o=[{icon:g.A,label:"Home",href:"/feed"},{icon:n.A,label:"Reels",href:"/reels"},{icon:l.A,label:"Watch",href:"/watch"},{icon:d.A,label:"Messenger",href:"#",isAction:!0,action:t,active:r},{icon:j.A,label:"Profile",href:"/profile"}];return(0,s.jsx)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50 pb-safe",children:(0,s.jsx)("nav",{className:"flex justify-around items-center h-16 px-2",children:o.map(t=>{let r=t.icon,o=void 0!==t.active?t.active:e===t.href;return t.isAction?(0,s.jsxs)("button",{onClick:e=>{e.preventDefault(),t.action&&t.action()},className:(0,x.cn)("flex flex-col items-center justify-center w-full h-full gap-1 transition-colors",o?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,s.jsx)(r,{size:24,strokeWidth:o?2.5:2}),(0,s.jsx)("span",{className:"text-[10px] font-medium",children:t.label})]},t.label):(0,s.jsxs)(i(),{href:t.href,className:(0,x.cn)("flex flex-col items-center justify-center w-full h-full gap-1 transition-colors",o?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,s.jsx)(r,{size:24,strokeWidth:o?2.5:2}),(0,s.jsx)("span",{className:"text-[10px] font-medium",children:t.label})]},t.href)})})})}function N(){return(0,s.jsxs)("aside",{className:"hidden lg:flex flex-col w-80 h-[calc(100vh-4rem)] sticky top-16 border-l border-border bg-card px-6 py-6 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-heading font-semibold text-lg text-muted-foreground text-xs uppercase tracking-wider",children:"Sponsored"}),(0,s.jsxs)("div",{className:"rounded-xl overflow-hidden border border-border group cursor-pointer relative",children:[(0,s.jsx)("img",{src:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=600&q=80",className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500",alt:"Ad"}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 text-white",children:[(0,s.jsx)("p",{className:"font-bold text-sm",children:"Nike Air Max"}),(0,s.jsx)("p",{className:"text-xs opacity-80",children:"Just Do It."})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-heading font-semibold text-lg",children:"Trending Now"}),(0,s.jsx)("div",{className:"space-y-4",children:["#TechInnovation","Photography","WorldCup2026","AIArt"].map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center group cursor-pointer",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium group-hover:text-primary transition-colors",children:e}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"12.5k Posts"})]}),(0,s.jsx)(h.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:"+"})]},e))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-heading font-semibold text-lg",children:"Who to follow"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(b.eu,{children:(0,s.jsx)(b.q5,{children:"SJ"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Sarah Jenkins"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"@sarahj_design"})]})]}),(0,s.jsx)(h.$,{size:"sm",variant:"outline",className:"h-8 text-xs rounded-full hover:bg-primary hover:text-primary-foreground hover:border-primary",children:"Follow"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(b.eu,{children:(0,s.jsx)(b.q5,{children:"MK"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Mike Kogan"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"@mikek_dev"})]})]}),(0,s.jsx)(h.$,{size:"sm",variant:"outline",className:"h-8 text-xs rounded-full hover:bg-primary hover:text-primary-foreground hover:border-primary",children:"Follow"})]})]})]})]})}r(4996);var w=r(9291),k=r(1332),P=r(6757);function A({children:e,showRightSidebar:t=!0}){let{closeSidebar:r,toggleSidebar:o,isSidebarOpen:m}=(0,f.$)(),u=(0,a.usePathname)();return(0,s.jsxs)("div",{className:"min-h-screen bg-background text-foreground flex flex-col font-sans relative",children:[(0,s.jsx)("header",{className:"w-full border-b border-border/40 bg-background/80 backdrop-blur-md sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[(0,s.jsxs)(i(),{href:"/feed",className:"flex items-center gap-2 w-auto md:w-64 shrink-0 cursor-pointer",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-primary-foreground font-bold text-xl",children:"P"})}),(0,s.jsx)("h1",{className:"text-2xl font-heading font-bold text-primary hidden md:block",children:"PostBook"})]}),(0,s.jsxs)("div",{className:"flex-1 max-w-md relative hidden sm:block",children:[(0,s.jsx)(k.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,s.jsx)(w.p,{placeholder:"Search PostBook...",className:"pl-10 bg-muted/50 border-none focus-visible:ring-primary/20 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 justify-end flex-1 md:flex-none",children:[(0,s.jsx)(h.$,{variant:"ghost",size:"icon",className:`rounded-full hover:bg-primary/10 hover:text-primary ${m?"bg-primary/10 text-primary":"text-muted-foreground"}`,onClick:o,children:(0,s.jsx)(d.A,{size:22})}),(0,s.jsx)(i(),{href:"/reels",children:(0,s.jsx)(h.$,{variant:"ghost",size:"icon",className:`rounded-full hover:bg-primary/10 hover:text-primary ${"/reels"===u?"bg-primary/10 text-primary":"text-muted-foreground"}`,children:(0,s.jsx)(n.A,{size:22})})}),(0,s.jsx)(i(),{href:"/watch",children:(0,s.jsx)(h.$,{variant:"ghost",size:"icon",className:`rounded-full hover:bg-primary/10 hover:text-primary ${"/watch"===u?"bg-primary/10 text-primary":"text-muted-foreground"}`,children:(0,s.jsx)(l.A,{size:22})})}),(0,s.jsxs)(h.$,{variant:"ghost",className:"hidden md:flex items-center gap-2 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-full px-3",children:[(0,s.jsx)(P.A,{size:22}),(0,s.jsx)("span",{className:"font-semibold text-sm",children:"GO LIVE"})]}),(0,s.jsx)(h.$,{variant:"ghost",size:"icon",className:"md:hidden text-destructive hover:text-destructive hover:bg-destructive/10 rounded-full",children:(0,s.jsx)(P.A,{size:22})}),(0,s.jsx)(i(),{href:"/notifications",children:(0,s.jsx)(h.$,{variant:"ghost",size:"icon",className:`rounded-full hover:bg-primary/10 hover:text-primary ${"/notifications"===u?"bg-primary/10 text-primary":"text-muted-foreground"}`,children:(0,s.jsx)(c.A,{size:22})})})]})]})}),(0,s.jsxs)("div",{className:"flex flex-1 max-w-[1600px] mx-auto w-full",children:["/profile"!==u&&(0,s.jsx)(v,{}),(0,s.jsx)("main",{className:"flex-1 min-w-0 pb-20 md:pb-0 pt-4",children:(0,s.jsx)("div",{className:`mx-auto w-full ${"/profile"===u?"max-w-[85%]":"max-w-2xl"}`,children:e})}),t&&"/profile"!==u&&(0,s.jsx)(N,{}),(0,s.jsx)(y,{})]})]})}},2050:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>s});let s=(0,r(413).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/nextjs-app/src/components/providers.tsx","Providers")},4352:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>a});var s=r(8625),o=r(7972),i=r(2647);let a=({...e})=>{let{theme:t="system"}=(0,o.D)();return(0,s.jsx)(i.l$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},4388:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,O:()=>d});var s=r(8625),o=r(4996),i=r(1107);let a=(0,o.createContext)(void 0),n="postbook_token",l="postbook_user";function d({children:e}){let[t,r]=(0,o.useState)(null),[d,c]=(0,o.useState)(null),[m,u]=(0,o.useState)(!0),x=(0,i.useRouter)(),h=(0,o.useCallback)(async(e,t)=>{u(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailOrPhone:e,password:t})});if(!s.ok){let e=await s.json();throw Error(e.message||"Login failed")}let o=await s.json();c(o.token),r(o.user),localStorage.setItem(n,o.token),localStorage.setItem(l,JSON.stringify(o.user)),x.push("/feed")}finally{u(!1)}},[x]),f=(0,o.useCallback)(async e=>{u(!0);try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.message||"Registration failed")}let s=await t.json();c(s.token),r(s.user),localStorage.setItem(n,s.token),localStorage.setItem(l,JSON.stringify(s.user)),x.push("/feed")}finally{u(!1)}},[x]),p=(0,o.useCallback)(()=>{c(null),r(null),localStorage.removeItem(n),localStorage.removeItem(l),x.push("/")},[x]);return(0,s.jsx)(a.Provider,{value:{user:t,token:d,isLoading:m,isAuthenticated:!!d&&!!t,login:h,register:f,logout:p},children:e})}function c(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4638:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(1808);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},4715:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(8625),o=r(4996),i=r(9392),a=r(4714),n=r(7284);let l=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...a},d)=>{let c=o?i.DX:"button";return(0,s.jsx)(c,{className:(0,n.cn)(l({variant:t,size:r,className:e})),ref:d,...a})});d.displayName="Button"},4766:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9782,23)),Promise.resolve().then(r.t.bind(r,3552,23)),Promise.resolve().then(r.t.bind(r,708,23)),Promise.resolve().then(r.t.bind(r,7319,23)),Promise.resolve().then(r.t.bind(r,2079,23)),Promise.resolve().then(r.t.bind(r,868,23)),Promise.resolve().then(r.t.bind(r,5543,23)),Promise.resolve().then(r.t.bind(r,2241,23))},5347:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>c});var s=r(7307),o=r(3475),i=r.n(o),a=r(2591),n=r.n(a);r(485);var l=r(9614),d=r(2050);let c={title:"PostBook - Connect & Share",description:"A social media platform to connect with friends and share your moments"};function m({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${i().variable} ${n().variable} antialiased`,children:[(0,s.jsx)(d.Providers,{children:e}),(0,s.jsx)(l.Toaster,{})]})})}},6423:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>x});var s=r(8625),o=r(2888),i=r(8419),a=r(4996),n=r(45),l=r(7284);let d=n.Kq;n.bL,n.l9,a.forwardRef(({className:e,sideOffset:t=4,...r},o)=>(0,s.jsx)(n.ZL,{children:(0,s.jsx)(n.UC,{ref:o,sideOffset:t,className:(0,l.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})})).displayName=n.UC.displayName;var c=r(4388),m=r(7313);let u=new o.E({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}});function x({children:e}){return(0,s.jsx)(i.Ht,{client:u,children:(0,s.jsx)(c.O,{children:(0,s.jsx)(d,{children:(0,s.jsx)(m.F,{children:e})})})})}},7284:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(9958),o=r(9802);function i(...e){return(0,o.QP)((0,s.$)(e))}},7313:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,F:()=>a});var s=r(8625),o=r(4996);let i=(0,o.createContext)(void 0);function a({children:e}){let[t,r]=(0,o.useState)(!1),[a,n]=(0,o.useState)([]);return(0,s.jsx)(i.Provider,{value:{isSidebarOpen:t,toggleSidebar:()=>r(e=>!e),closeSidebar:()=>r(!1),activeChats:a,openChat:e=>{a.find(t=>t.id===e.id)||n(t=>{let r=[...t,e];return r.length>2?r.slice(r.length-2):r})},closeChat:e=>{n(t=>t.filter(t=>t.id!==e))}},children:e})}function n(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useMessenger must be used within a MessengerProvider");return e}},7343:(e,t,r)=>{Promise.resolve().then(r.bind(r,2050)),Promise.resolve().then(r.bind(r,9614))},7591:(e,t,r)=>{Promise.resolve().then(r.bind(r,6423)),Promise.resolve().then(r.bind(r,4352))},7814:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,8416,23)),Promise.resolve().then(r.t.bind(r,7342,23)),Promise.resolve().then(r.t.bind(r,4078,23)),Promise.resolve().then(r.t.bind(r,4193,23)),Promise.resolve().then(r.t.bind(r,1573,23)),Promise.resolve().then(r.t.bind(r,5405,23)),Promise.resolve().then(r.t.bind(r,7301,23)),Promise.resolve().then(r.t.bind(r,6159,23))},9291:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var s=r(8625),o=r(4996),i=r(7284);let a=o.forwardRef(({className:e,type:t,...r},o)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...r}));a.displayName="Input"},9614:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>s});let s=(0,r(413).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/nextjs-app/src/components/ui/sonner.tsx","Toaster")}};